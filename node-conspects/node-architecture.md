
## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [V8 Engine](#v8-engine)

2. [–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ Node.js](#–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ-–º–æ–¥—É–ª–∏-nodejs)

3. [C++ Bindings (–ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏)](#c-bindings-–ø–æ—Å—Ä–µ–¥–Ω–∏–∫–∏)

4. [–í–Ω–µ—à–Ω–∏–µ –º–æ–¥—É–ª–∏ (Express, Mocha)](#–≤–Ω–µ—à–Ω–∏–µ-–º–æ–¥—É–ª–∏-express-mocha)

5. [–ü–æ—Ç–æ–∫–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã](#–ø–æ—Ç–æ–∫–∏-–∏-–ø—Ä–æ—Ü–µ—Å—Å—ã)

6. [–ú–æ–¥–µ–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤](#–º–æ–¥–µ–ª–∏-–æ–±—Ä–∞–±–æ—Ç–∫–∏-–∑–∞–ø—Ä–æ—Å–æ–≤)

7. [–ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –∏ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏](#–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ-–∏-–Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ-–æ–ø–µ—Ä–∞—Ü–∏–∏)

8. [LibUV](#libuv)

9. [Event Loop –∏ Thread Pool](#event-loop-–∏-thread-pool)

10. [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ-–∞—Å–ø–µ–∫—Ç—ã-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)

  

---

## V8 Engine
  

**V8** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–π JavaScript –¥–≤–∏–∂–æ–∫ —Å –æ—Ç–∫—Ä—ã—Ç—ã–º –∏—Å—Ö–æ–¥–Ω—ã–º –∫–æ–¥–æ–º, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–π Google. –û–Ω —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π Node.js –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ JavaScript –∫–æ–¥–∞.

  

### –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ V8:

  

#### 1. Just-In-Time (JIT) –∫–æ–º–ø–∏–ª—è—Ü–∏—è

- V8 –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç JavaScript –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –≤ –º–∞—à–∏–Ω–Ω—ã–π –∫–æ–¥

- –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–π –±–∞–π—Ç-–∫–æ–¥ (–∫–∞–∫ –≤ –¥—Ä—É–≥–∏—Ö –¥–≤–∏–∂–∫–∞—Ö)

- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

  

#### 2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

```

JavaScript –∫–æ–¥ ‚Üí –ü–∞—Ä—Å–∏–Ω–≥ ‚Üí AST ‚Üí Ignition (–∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä) ‚Üí TurboFan (–æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä)

```

  

- **Ignition**: –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –±—ã—Å—Ç—Ä–æ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–∞–π—Ç-–∫–æ–¥

- **TurboFan**: –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä –¥–ª—è "–≥–æ—Ä—è—á–µ–≥–æ" –∫–æ–¥–∞

- **Crankshaft**: –°—Ç–∞—Ä—ã–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—â–∏–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä (—É—Å—Ç–∞—Ä–µ–ª)

  

#### 3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é

- **Heap**: –û–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –¥–ª—è –æ–±—ä–µ–∫—Ç–æ–≤

- **Stack**: –û–±–ª–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –¥–ª—è –ø—Ä–∏–º–∏—Ç–∏–≤–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏ —Å—Å—ã–ª–æ–∫

- **Garbage Collector**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–π –ø–∞–º—è—Ç–∏

  

#### 4. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ Node.js

```javascript

// V8 –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã

console.log(global); // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç

console.log(process); // –û–±—ä–µ–∫—Ç –ø—Ä–æ—Ü–µ—Å—Å–∞ Node.js

console.log(Buffer); // –ë—É—Ñ–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

```

  

#### 5. V8 Embedder API

- Node.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç V8 Embedder API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É JavaScript –∏ C++

  

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å V8:

- **Inline caching**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞ —Å–≤–æ–π—Å—Ç–≤

- **Hidden classes**: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏

- **Escape analysis**: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∂–∏–∑–Ω–∏ –æ–±—ä–µ–∫—Ç–æ–≤

  

---

  

## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏ Node.js

  

Node.js –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤.

  

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏:

  

#### 1. –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (`fs`)

```javascript

const fs = require('fs');

  

// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

const data = fs.readFileSync('file.txt', 'utf8');

  

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

fs.readFile('file.txt', 'utf8', (err, data) => {

if (err) throw err;

console.log(data);

});

  

// Promise-based API

const fsPromises = require('fs').promises;

fsPromises.readFile('file.txt', 'utf8')

.then(data => console.log(data))

.catch(err => console.error(err));

```

  

#### 2. HTTP –º–æ–¥—É–ª—å (`http`)

```javascript

const http = require('http');

  

// –°–æ–∑–¥–∞–Ω–∏–µ HTTP —Å–µ—Ä–≤–µ—Ä–∞

const server = http.createServer((req, res) => {

res.writeHead(200, {'Content-Type': 'text/plain'});

res.end('Hello World!');

});

  

server.listen(3000, () => {

console.log('Server running on port 3000');

});

```

  

#### 3. Path –º–æ–¥—É–ª—å (`path`)

```javascript

const path = require('path');

  

console.log(path.join('/users', 'john', 'documents')); // /users/john/documents

console.log(path.extname('file.txt')); // .txt

console.log(path.basename('/path/to/file.txt')); // file.txt

```

–í–∫—Ä–∞—Ç—Ü–µ:

- `resolve`, `join`, `normalize` ‚Üí –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –ø—É—Ç–µ–π
    
- `relative`, `dirname`, `basename`, `extname` ‚Üí –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø—É—Ç–µ–π
    
- `parse`, `format` ‚Üí –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤ –æ–±—ä–µ–∫—Ç –∏ –æ–±—Ä–∞—Ç–Ω–æ
    
- `sep`, `delimiter`, `win32`, `posix` ‚Üí —É—á—ë—Ç –û–°
  

#### 4. OS –º–æ–¥—É–ª—å (`os`)

```javascript

const os = require('os');

  

console.log(os.platform()); // darwin, linux, win32

console.log(os.arch()); // x64, arm64

console.log(os.cpus().length); // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ CPU —è–¥–µ—Ä

console.log(os.freemem()); // —Å–≤–æ–±–æ–¥–Ω–∞—è –ø–∞–º—è—Ç—å

```

  

#### 5. Crypto –º–æ–¥—É–ª—å (`crypto`)

```javascript

const crypto = require('crypto');

  

// –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

const hash = crypto.createHash('sha256');

hash.update('Hello World');

console.log(hash.digest('hex'));

  

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö –±–∞–π—Ç–æ–≤

crypto.randomBytes(16, (err, buffer) => {

if (err) throw err;

console.log(buffer.toString('hex'));

});

```

  

#### 6. –°–æ–±—ã—Ç–∏—è (`events`)

```javascript

const EventEmitter = require('events');

  

class MyEmitter extends EventEmitter {}

const myEmitter = new MyEmitter();

  

myEmitter.on('event', (data) => {

console.log('–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ:', data);

});

  

myEmitter.emit('event', 'Hello World');

```

  

### –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–æ–¥—É–ª–µ–π:

- `assert` - —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

- `buffer` - —Ä–∞–±–æ—Ç–∞ —Å –±–∏–Ω–∞—Ä–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

- `child_process` - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

- `cluster` - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

- `dgram` - UDP —Å–æ–∫–µ—Ç—ã

- `dns` - DNS —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ

- `net` - TCP —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç—ã

- `querystring` - –ø–∞—Ä—Å–∏–Ω–≥ URL query —Å—Ç—Ä–æ–∫

- `stream` - –ø–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

- `url` - –ø–∞—Ä—Å–∏–Ω–≥ URL

- `util` - —É—Ç–∏–ª–∏—Ç—ã

- `zlib` - —Å–∂–∞—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö

  

---

  

## C++ Bindings (–ü–æ—Å—Ä–µ–¥–Ω–∏–∫–∏)

  

C++ Bindings –≤ Node.js –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –º–æ—Å—Ç –º–µ–∂–¥—É JavaScript –∫–æ–¥–æ–º –∏ –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ C++ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç Node.js –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º API –∏ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º.

  

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ C++ Bindings:

  

```

JavaScript –∫–æ–¥

‚Üì

V8 Engine

‚Üì

C++ Bindings

‚Üì

–ù–∞—Ç–∏–≤–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (LibUV, OpenSSL, zlib, etc.)

‚Üì

–°–∏—Å—Ç–µ–º–Ω—ã–µ API

```

  

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç C++ Bindings:

  

#### 1. Node.js C++ Addons

```cpp

// hello.cc

#include <node.h>

  

namespace demo {

  

using v8::FunctionCallbackInfo;

using v8::Isolate;

using v8::Local;

using v8::Object;

using v8::String;

using v8::Value;

  

void Method(const FunctionCallbackInfo<Value>& args) {

Isolate* isolate = args.GetIsolate();

args.GetReturnValue().Set(String::NewFromUtf8(

isolate, "world").ToLocalChecked());

}

  

void Initialize(Local<Object> exports) {

NODE_SET_METHOD(exports, "hello", Method);

}

  

NODE_MODULE(NODE_GYP_MODULE_NAME, Initialize)

  

}

```

  

#### 2. N-API (Node-API)

N-API - —ç—Ç–æ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π ABI –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω—ã—Ö –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π:

  

```cpp

#include <node_api.h>

  

napi_value Method(napi_env env, napi_callback_info args) {

napi_value greeting;

napi_status status;

  

status = napi_create_string_utf8(env, "Hello", NAPI_AUTO_LENGTH, &greeting);

if (status != napi_ok) return nullptr;

  

return greeting;

}

  

napi_value init(napi_env env, napi_value exports) {

napi_status status;

napi_value fn;

  

status = napi_create_function(env, nullptr, 0, Method, nullptr, &fn);

if (status != napi_ok) return nullptr;

  

status = napi_set_named_property(env, exports, "hello", fn);

if (status != napi_ok) return nullptr;

  

return exports;

}

  

NAPI_MODULE(NODE_GYP_MODULE_NAME, init)

```

  

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ C++ –º–æ–¥—É–ª–∏ –≤ Node.js:

  

#### 1. FS (—Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)

- –°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ `open()`, `read()`, `write()`

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç LibUV –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

  

#### 2. HTTP –ø–∞—Ä—Å–µ—Ä

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `http-parser` (C)

- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞—Ä—Å–∏–Ω–≥–∞ HTTP

  

#### 3. Crypto –º–æ–¥—É–ª—å

- –°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å OpenSSL

- –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

  

#### 4. Zlib

- –°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π zlib

- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∂–∞—Ç–∏–µ –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∫—É –¥–∞–Ω–Ω—ã—Ö

  

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ C++ Bindings:

- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–º—É –∫–æ–¥—É

- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –¥–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–Ω—ã–º API

- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö C/C++ –±–∏–±–ª–∏–æ—Ç–µ–∫

  

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏:

- **–°–ª–æ–∂–Ω–æ—Å—Ç—å**: —Ç—Ä–µ–±—É–µ—Ç –∑–Ω–∞–Ω–∏—è C++

- **–ü–æ—Ä—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –º–æ–∂–µ—Ç –∑–∞–≤–∏—Å–µ—Ç—å –æ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

- **–û—Ç–ª–∞–¥–∫–∞**: —Å–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –Ω–∞—Ç–∏–≤–Ω—ã–π –∫–æ–¥

  

---

  

## –í–Ω–µ—à–Ω–∏–µ –º–æ–¥—É–ª–∏ (Express, Mocha)

  

–í–Ω–µ—à–Ω–∏–µ –º–æ–¥—É–ª–∏ —Ä–∞—Å—à–∏—Ä—è—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Node.js –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ npm (Node Package Manager).

  

### Express.js

  

Express - —ç—Ç–æ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –∏ –≥–∏–±–∫–∏–π –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Node.js.

  

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –±–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash

npm install express

```

  

```javascript

const express = require('express');

const app = express();

const port = 3000;

  

// Middleware –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON

app.use(express.json());

  

// –ë–∞–∑–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç

app.get('/', (req, res) => {

res.send('Hello World!');

});

  

// POST –º–∞—Ä—à—Ä—É—Ç

app.post('/users', (req, res) => {

const user = req.body;

res.json({ message: 'User created', user });

});

  

// –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

app.listen(port, () => {

console.log(`Server running at http://localhost:${port}`);

});

```

  

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Express:
–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ **Express.js** –≤ Node.js —Å—Ç—Ä–æ–∏—Ç—Å—è –≤–æ–∫—Ä—É–≥ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏, –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ (**middleware**)

```

Request ‚Üí Middleware Stack ‚Üí Route Handler ‚Üí Response

```

  

#### Middleware –≤ Express:
–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è Express ‚Äî "–∫–æ–Ω–≤–µ–π–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤". –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ —Ü–µ–ø–æ—á–∫—É —Ñ—É–Ω–∫—Ü–∏–π middleware, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç:

- –ò–∑–º–µ–Ω–∏—Ç—å `req` –∏–ª–∏ `res`;
    
- –í—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é);
    
- –ü–µ—Ä–µ–¥–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–º—É –æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É —á–µ—Ä–µ–∑ `next()`;
    
- –ó–∞–≤–µ—Ä—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç.

```javascript

// –õ–æ–≥–∏—Ä—É—é—â–∏–π middleware

app.use((req, res, next) => {

console.log(`${req.method} ${req.url} - ${new Date()}`);

next();

});

  

// Middleware –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫

app.use((err, req, res, next) => {

console.error(err.stack);

res.status(500).send('Something broke!');

});

```

  

### Mocha

  
**Mocha** ‚Äî —ç—Ç–æ **—Ç–µ—Å—Ç–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Node.js –∏ –±—Ä–∞—É–∑–µ—Ä–∞**, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è –∏ –∑–∞–ø—É—Å–∫–∞ **—é–Ω–∏—Ç-—Ç–µ—Å—Ç–æ–≤** –∏ **–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**.  
–û–Ω –Ω–µ –Ω–∞–≤—è–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ assertion-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (—á–∞—â–µ –≤—Å–µ–≥–æ `Chai`).

---

## üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **BDD** (Behavior Driven Development) –∏ **TDD** (Test Driven Development).
    
- –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å **—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ** –∏ **–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ** —Ç–µ—Å—Ç—ã.
    
- –£–¥–æ–±–Ω—ã–µ —Ö—É–∫–∏ (`before`, `after`, `beforeEach`, `afterEach`) –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏/–æ—á–∏—Å—Ç–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è.
    
- –õ–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏: `Chai` (assertions), `Sinon` (mock/stub), `nyc` (coverage).

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:

```bash

npm install --save-dev mocha

```

  

#### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç–æ–≤:

```javascript

// test/math.test.js

const assert = require('assert');

  

describe('Math operations', () => {

describe('Addition', () => {

it('should add two numbers correctly', () => {

assert.equal(2 + 2, 4);

});

  

it('should handle negative numbers', () => {

assert.equal(-1 + 1, 0);

});

});

  

describe('Async operations', () => {

it('should handle async operations', (done) => {

setTimeout(() => {

assert.equal(1, 1);

done();

}, 100);

});

  

it('should handle promises', () => {

return Promise.resolve(42).then(result => {

assert.equal(result, 42);

});

});

});

});

```

  

#### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash

npx mocha test/

```

  

### –î—Ä—É–≥–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–Ω–µ—à–Ω–∏–µ –º–æ–¥—É–ª–∏:

  

#### 1. Lodash - —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
**Lodash** ‚Äî —ç—Ç–æ –ø–æ–ø—É–ª—è—Ä–Ω–∞—è JavaScript-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç **–Ω–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç** –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å:

- –º–∞—Å—Å–∏–≤–∞–º–∏,
    
- –æ–±—ä–µ–∫—Ç–∞–º–∏,
    
- —Å—Ç—Ä–æ–∫–∞–º–∏,
    
- —á–∏—Å–ª–∞–º–∏,
    
- —Ñ—É–Ω–∫—Ü–∏—è–º–∏,
    
- –∫–æ–ª–ª–µ–∫—Ü–∏—è–º–∏ –≤ —Ü–µ–ª–æ–º.
    

–ï—ë –≥–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ **–∫–æ—Ä–æ—á–µ, —á–∏—Ç–∞–µ–º–µ–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ**.  
–ß–∞—Å—Ç–æ Lodash –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–º–µ—Å—Ç–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è "–≤–µ–ª–æ—Å–∏–ø–µ–¥–æ–≤" –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (–≥–ª—É–±–æ–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–∞—Å—Å–∏–≤–æ–≤, –ø–æ–∏—Å–∫ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π –∏ —Ç.–¥.).

``` bash
npm install lodash
```

```javascript

const _ = require('lodash');

  

const users = [

{ name: 'John', age: 30 },

{ name: 'Jane', age: 25 }

];

  

const names = _.map(users, 'name');

console.log(names); // ['John', 'Jane']

```

  

#### 2. Moment.js - —Ä–∞–±–æ—Ç–∞ —Å –¥–∞—Ç–∞–º–∏

**Moment.js** ‚Äî —ç—Ç–æ –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ JavaScript –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏ –∏ –≤—Ä–µ–º–µ–Ω–µ–º.  
–û–Ω–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ:

- –ø–∞—Ä—Å–∏—Ç—å (—Ä–∞–∑–±–∏—Ä–∞—Ç—å) –¥–∞—Ç—ã –∏–∑ —Å—Ç—Ä–æ–∫,
    
- —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞—Ç—ã –≤ —É–¥–æ–±–Ω—ã–π –≤–∏–¥,
    
- –≤—ã–ø–æ–ª–Ω—è—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –¥–∞—Ç–∞–º–∏ (–ø—Ä–∏–±–∞–≤–ª—è—Ç—å/–æ—Ç–Ω–∏–º–∞—Ç—å –¥–Ω–∏, –º–µ—Å—è—Ü—ã –∏ —Ç.–¥.),
    
- —Ä–∞–±–æ—Ç–∞—Ç—å —Å —á–∞—Å–æ–≤—ã–º–∏ –ø–æ—è—Å–∞–º–∏ –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π.
    

üìå –í–∞–∂–Ω–æ: c 2020 –≥–æ–¥–∞ Moment.js —Å—á–∏—Ç–∞–µ—Ç—Å—è **"legacy project"** (—É—Å—Ç–∞—Ä–µ–≤–∞—é—â–∏–π), –∏ –µ–≥–æ –∞–≤—Ç–æ—Ä—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É—é—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `Day.js`, `date-fns`, `Luxon`). –ù–æ Moment –¥–æ —Å–∏—Ö –ø–æ—Ä –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö.

---

## üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

``` bash
npm install moment
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```javascript

const moment = require('moment');

  

const now = moment();

console.log(now.format('YYYY-MM-DD HH:mm:ss'));

```

  

#### 3. Mongoose - ODM –¥–ª—è MongoDB
**Mongoose** ‚Äî —ç—Ç–æ **ODM (Object Data Modeling) –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** –¥–ª—è Node.js, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å **MongoDB** —á–µ—Ä–µ–∑ –æ–±—ä–µ–∫—Ç—ã JavaScript.  
–û–Ω–∞ —É–ø—Ä–æ—â–∞–µ—Ç:

- —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º –∏ –º–æ–¥–µ–ª–µ–π,
    
- –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö,
    
- –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ,
    
- —Ä–∞–±–æ—Ç—É —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ —á–µ—Ä–µ–∑ –ø—Ä–æ–º–∏—Å—ã –∏–ª–∏ `async/await`.
    

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, Mongoose –ø–æ–∑–≤–æ–ª—è–µ—Ç **—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ MongoDB**, –∫–æ—Ç–æ—Ä–∞—è —Å–∞–º–∞ –ø–æ —Å–µ–±–µ –¥–æ–∫—É–º–µ–Ω—Ç–Ω–æ-–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏ —Å—Ö–µ–º–æ-—Å–≤–æ–±–æ–¥–Ω–∞—è.

---

## üîπ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

``` bash
npm install mongoose
```

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ:

```javascript

const mongoose = require('mongoose');

  

const userSchema = new mongoose.Schema({

name: String,

email: String,

age: Number

});

  

const User = mongoose.model('User', userSchema);

```

  

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:

#### package.json

```json

{

"name": "my-app",

"version": "1.0.0",

"dependencies": {

"express": "^4.18.0",

"lodash": "^4.17.21"

},

"devDependencies": {

"mocha": "^9.2.0",

"chai": "^4.3.6"

}

}

```

  

---

  

## –ü–æ—Ç–æ–∫–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏:

  ## **1. –ü—Ä–æ—Ü–µ—Å—Å (Process)**

### üîπ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

–ü—Ä–æ—Ü–µ—Å—Å ‚Äî —ç—Ç–æ **–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**, —Å–æ–¥–µ—Ä–∂–∞—â–∞—è:

- —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ (–ø–∞–º—è—Ç—å),
    
- —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã (—Ñ–∞–π–ª—ã, —Å–æ–∫–µ—Ç—ã),
    
- –ø–æ—Ç–æ–∫(–∏) –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
    

–ö–∞–∂–¥—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏–º–µ–µ—Ç **—É–Ω–∏–∫–∞–ª—å–Ω—ã–π PID (Process ID)** –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

---

### üîπ –ü–∞–º—è—Ç—å –∏ —Ä–µ—Å—É—Ä—Å—ã

- –ü—Ä–æ—Ü–µ—Å—Å—ã **–Ω–µ —Ä–∞–∑–¥–µ–ª—è—é—Ç –ø–∞–º—è—Ç—å** –Ω–∞–ø—Ä—è–º—É—é.
    
- –ö–∞–∂–¥–æ–º—É –ø—Ä–æ—Ü–µ—Å—Å—É –≤—ã–¥–µ–ª—è–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ (–∫–æ–¥, –¥–∞–Ω–Ω—ã–µ, —Å—Ç–µ–∫).
    
- –î–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **IPC (Inter-Process Communication)**:
    
    - –ö–∞–Ω–∞–ª—ã (pipes)
        
    - –°–æ–∫–µ—Ç—ã
        
    - –°–µ–≥–º–µ–Ω—Ç—ã –æ–±—â–µ–π –ø–∞–º—è—Ç–∏
        
    - –°–æ–æ–±—â–µ–Ω–∏—è (message queues)
        

---

### üîπ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ ‚Äî **–¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è**, —Ç.–∫. –û–° –≤—ã–¥–µ–ª—è–µ—Ç –Ω–æ–≤–æ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ.
    
- –ü—Ä–∏–º–µ—Ä –≤ Linux:
    
    `fork()    # —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å-–ø–æ—Ç–æ–º–æ–∫ exec()    # –∑–∞–º–µ–Ω—è–µ—Ç –æ–±—Ä–∞–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–æ–≤—ã–º`
    
- –ü—Ä–æ—Ü–µ—Å—Å—ã –º–æ–≥—É—Ç –±—ã—Ç—å **—Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–º–∏ –∏ –¥–æ—á–µ—Ä–Ω–∏–º–∏**, –Ω–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.
    

---

### üîπ –ü—Ä–∏–º–µ—Ä—ã

- –í Node.js –∫–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä Node.js ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å.
    
- –ë—Ä–∞—É–∑–µ—Ä—ã —Å–æ–∑–¥–∞—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –¥–ª—è –≤–∫–ª–∞–¥–æ–∫.
    
- –°–µ—Ä–≤–µ—Ä Apache —Å–æ–∑–¥–∞—ë—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.
    

---

## **2. –ü–æ—Ç–æ–∫ (Thread)**

### üîπ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

–ü–æ—Ç–æ–∫ ‚Äî —ç—Ç–æ **–µ–¥–∏–Ω–∏—Ü–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞**.

- –ü–æ—Ç–æ–∫–∏ **–¥–µ–ª—è—Ç –ø–∞–º—è—Ç—å –∏ —Ä–µ—Å—É—Ä—Å—ã –ø—Ä–æ—Ü–µ—Å—Å–∞**, –Ω–æ –∏–º–µ—é—Ç **—Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ –∏ —Ä–µ–≥–∏—Å—Ç—Ä—ã**.
    
- –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –ø–æ—Ç–æ–∫–∏ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞.
    

---

### üîπ –ü–∞–º—è—Ç—å –∏ —Ä–µ—Å—É—Ä—Å—ã

- –ü–æ—Ç–æ–∫–∏ **—Ä–∞–∑–¥–µ–ª—è—é—Ç –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ —Å–µ–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞** –ø—Ä–æ—Ü–µ—Å—Å–∞.
    
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è **–≤ —Å—Ç–µ–∫–µ –ø–æ—Ç–æ–∫–∞**, –≥–ª–æ–±–∞–ª—å–Ω—ã–µ ‚Äî **—Ä–∞–∑–¥–µ–ª—è–µ–º—ã–µ**.
    
- –û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–µ–ª–∞—é—Ç –≤–æ–∑–º–æ–∂–Ω—ã–º **–±—ã—Å—Ç—Ä—É—é –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—é –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏**, –Ω–æ —Ç—Ä–µ–±—É—é—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (mutex, semaphore) –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –≥–æ–Ω–æ–∫ –¥–∞–Ω–Ω—ã—Ö.
    

---

### üîπ –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–∞ ‚Äî **–±—ã—Å—Ç—Ä–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è**, –º–µ–Ω–µ–µ —Ä–µ—Å—É—Ä—Å–æ—ë–º–∫–∞—è, —á–µ–º –ø—Ä–æ—Ü–µ—Å—Å.
    
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ (context switch) ‚Äî –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.
    

–ü—Ä–∏–º–µ—Ä –≤ Node.js:

``const { Worker } = require("worker_threads");  const worker = new Worker(`   const { parentPort } = require('worker_threads');   parentPort.postMessage('Hello from worker!'); `, { eval: true });  worker.on('message', msg => console.log(msg));``

- Node.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **single-threaded event loop**, –Ω–æ —á–µ—Ä–µ–∑ `worker_threads` –º–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Ç–æ–∫–∏ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
    

---

### üîπ –ü—Ä–∏–º–µ—Ä—ã

- –í–µ–±-—Å–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤.
    
- –ë—Ä–∞—É–∑–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ—Ç–æ–∫–∏ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ UI, –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JavaScript, –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ—Å—É—Ä—Å–æ–≤.
    
- –ü–æ—Ç–æ–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≤ —è–∑—ã–∫–∞—Ö –≤—Ä–æ–¥–µ Java, C#, C++ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏.
    

---

## **3. –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –ü—Ä–æ—Ü–µ—Å—Å vs –ü–æ—Ç–æ–∫**

| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | –ü—Ä–æ—Ü–µ—Å—Å                             | –ü–æ—Ç–æ–∫                                      |
| -------------- | ----------------------------------- | ------------------------------------------ |
| –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ    | –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è    | –ï–¥–∏–Ω–∏—Ü–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞         |
| –ü–∞–º—è—Ç—å         | –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∞–¥—Ä–µ—Å–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ | –†–∞–∑–¥–µ–ª—è—é—Ç –ø–∞–º—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å–∞                  |
| –°–æ–∑–¥–∞–Ω–∏–µ       | –ú–µ–¥–ª–µ–Ω–Ω–æ–µ, –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–µ            | –ë—ã—Å—Ç—Ä–æ–µ, –ª—ë–≥–∫–æ–µ                            |
| –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è   | IPC (pipes, —Å–æ–∫–µ—Ç—ã, shared memory)  | –ß–µ—Ä–µ–∑ —Ä–∞–∑–¥–µ–ª—è–µ–º—É—é –ø–∞–º—è—Ç—å                   |
| –û—à–∏–±–∫–∏         | –û—à–∏–±–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ | –û—à–∏–±–∫–∞ –ø–æ—Ç–æ–∫–∞ –º–æ–∂–µ—Ç —Ä–∞–∑—Ä—É—à–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å—Å |
| –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ   | –ú–µ–¥–ª–µ–Ω–Ω–æ–µ (context switch)          | –ë—ã—Å—Ç—Ä–æ–µ                                    |
| –ü—Ä–∏–º–µ—Ä—ã        | Node.js –ø—Ä–æ—Ü–µ—Å—Å, Chrome tab         | Worker thread, Java thread                 |


### –°–≤—è–∑—å –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏ –∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏:

  

```

–ü—Ä–æ—Ü–µ—Å—Å

‚îú‚îÄ‚îÄ –ì–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ (Main Thread)

‚îú‚îÄ‚îÄ –ü–æ—Ç–æ–∫ 1

‚îú‚îÄ‚îÄ –ü–æ—Ç–æ–∫ 2

‚îî‚îÄ‚îÄ –ü–æ—Ç–æ–∫ N

```

  

### –í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Node.js:

#### –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ JavaScript

```javascript

// –≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ

console.log('Main thread execution');

  

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è –≤ Thread Pool

const fs = require('fs');

fs.readFile('large-file.txt', (err, data) => {

// Callback –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –≥–ª–∞–≤–Ω–æ–º –ø–æ—Ç–æ–∫–µ

console.log('File read complete');

});

```

  

#### Worker Threads (Node.js 10.5+)

```javascript

// main.js

const { Worker, isMainThread, parentPort, workerData } = require('worker_threads');

  

if (isMainThread) {

// –ì–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫

const worker = new Worker(__filename, {

workerData: { num: 5 }

});

worker.postMessage('Hello');

worker.on('message', (data) => {

console.log('Received:', data);

});

worker.on('exit', (code) => {

console.log(`Worker exited with code ${code}`);

});

} else {

// Worker –ø–æ—Ç–æ–∫

console.log('Worker data:', workerData);

parentPort.on('message', (data) => {

parentPort.postMessage(`Echo: ${data}`);

});

}

```

  

#### Child Processes

```javascript

const { spawn, fork, exec } = require('child_process');

  

// spawn - –∑–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã

const ls = spawn('ls', ['-la']);

ls.stdout.on('data', (data) => {

console.log(`stdout: ${data}`);

});

  

// fork - —Å–æ–∑–¥–∞–Ω–∏–µ –¥–æ—á–µ—Ä–Ω–µ–≥–æ Node.js –ø—Ä–æ—Ü–µ—Å—Å–∞

const child = fork('child-script.js');

child.send({ hello: 'world' });

child.on('message', (message) => {

console.log('Message from child:', message);

});

  

// exec - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã shell

exec('echo "Hello World"', (error, stdout, stderr) => {

if (error) {

console.error(`Error: ${error}`);

return;

}

console.log(`stdout: ${stdout}`);

});

```

  

### –ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è:

```javascript

const cluster = require('cluster');

const http = require('http');

const numCPUs = require('os').cpus().length;

  

if (cluster.isMaster) {

// –ì–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å

console.log(`Master ${process.pid} is running`);

  

// Fork workers

for (let i = 0; i < numCPUs; i++) {

cluster.fork();

}

  

cluster.on('exit', (worker, code, signal) => {

console.log(`Worker ${worker.process.pid} died`);

cluster.fork(); // –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —É–ø–∞–≤—à–µ–≥–æ –≤–æ—Ä–∫–µ—Ä–∞

});

} else {

// Worker –ø—Ä–æ—Ü–µ—Å—Å—ã

http.createServer((req, res) => {

res.writeHead(200);

res.end('Hello world\n');

}).listen(8000);

  

console.log(`Worker ${process.pid} started`);

}

```

  

---

  

## –ú–æ–¥–µ–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

  

### –î–∞–≤–∞–π —Ä–∞–∑–±–µ—Ä—ë–º **–º–æ–¥–µ–ª–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤**, –Ω–∞—á–∏–Ω–∞—è —Å —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–æ–π.

---

## **1. –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å: –æ–¥–∏–Ω –ø–æ—Ç–æ–∫ –Ω–∞ –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å**

### üîπ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

- –ö–∞–∂–¥–æ–º—É –≤—Ö–æ–¥—è—â–µ–º—É –∑–∞–ø—Ä–æ—Å—É –≤—ã–¥–µ–ª—è–µ—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–æ—Ç–æ–∫** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.
    
- –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –≤—Å—é –ª–æ–≥–∏–∫—É –∑–∞–ø—Ä–æ—Å–∞ (–ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –æ–±—Ä–∞–±–æ—Ç–∫—É, –æ—Ç–ø—Ä–∞–≤–∫—É –æ—Ç–≤–µ—Ç–∞).
    
- –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –ø–æ—Ç–æ–∫ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è –∏ –≥–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∑–∞–ø—Ä–æ—Å—É.
    

---

### üîπ –ü–ª—é—Å—ã

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å.
    
2. **–ò–∑–æ–ª—è—Ü–∏—è**: –æ—à–∏–±–∫–∞ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ –¥—Ä—É–≥–∏–µ, —Ç–∞–∫ –∫–∞–∫ –ø–æ—Ç–æ–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ.
    

---

### üîπ –ú–∏–Ω—É—Å—ã

1. **–í—ã—Å–æ–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**: –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–∞–º—è—Ç—å –∏ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã.
    
2. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–æ–≤ ‚Üí —Å–Ω–∏–∂–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
    
3. **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ**: –±–æ–ª—å—à–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤ ‚Üí —á–∞—Å—Ç—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è, —á—Ç–æ –∑–∞–º–µ–¥–ª—è–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É.
    

---

### üîπ –°—Ö–µ–º–∞—Ç–∏—á–Ω–æ

```
–ó–∞–ø—Ä–æ—Å 1  -> –ü–æ—Ç–æ–∫ 1 -> –û–±—Ä–∞–±–æ—Ç–∫–∞ -> –û—Ç–≤–µ—Ç
–ó–∞–ø—Ä–æ—Å 2  -> –ü–æ—Ç–æ–∫ 2 -> –û–±—Ä–∞–±–æ—Ç–∫–∞ -> –û—Ç–≤–µ—Ç
–ó–∞–ø—Ä–æ—Å 3  -> –ü–æ—Ç–æ–∫ 3 -> –û–±—Ä–∞–±–æ—Ç–∫–∞ -> –û—Ç–≤–µ—Ç
...
```

---

### üîπ –ü—Ä–∏–º–µ—Ä—ã

- –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–µ **Apache HTTP Server (pre-fork)**.
    
- **Java —Å–µ—Ä–≤–ª–µ—Ç—ã** —Å –º–æ–¥–µ–ª—å—é `Thread-per-Request`.
    

---

## **2. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –º–æ–¥–µ–ª–∏ (–¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è)**

### üîπ –ü—É–ª –ø–æ—Ç–æ–∫–æ–≤ (Thread Pool)

- –°–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ç–æ–∫–æ–≤.
    
- –ó–∞–ø—Ä–æ—Å—ã —Å—Ç–∞–≤—è—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ—Ç–æ–∫–∞–º–∏ –∏–∑ –ø—É–ª–∞.
    
- **–ü–ª—é—Å**: –º–µ–Ω—å—à–µ —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤.
    
- **–ú–∏–Ω—É—Å**: –ø—Ä–∏ –ø–µ—Ä–µ–≥—Ä—É–∑–∫–µ –æ—á–µ—Ä–µ–¥—å —Ä–∞—Å—Ç—ë—Ç ‚Üí –∑–∞–¥–µ—Ä–∂–∫–∏.
    

### üîπ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (Event-driven) –º–æ–¥–µ–ª—å

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–æ–¥–∏–Ω –ø–æ—Ç–æ–∫ (–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ) —Å event loop**.
    
- –ó–∞–ø—Ä–æ—Å—ã –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–æ—Ç–æ–∫, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ (I/O) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∫–æ–ª–±—ç–∫–∞–º–∏, –ø—Ä–æ–º–∏—Å–∞–º–∏ –∏–ª–∏ `async/await`.
    
- **–ü–ª—é—Å—ã**: –≤—ã—Å–æ–∫–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å, –Ω–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏.
    
- **–ú–∏–Ω—É—Å—ã**: —Å–ª–æ–∂–Ω–µ–µ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å, –Ω—É–∂–Ω–æ –ø–∏—Å–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥.
    

–ü—Ä–∏–º–µ—Ä: **Node.js**, **Nginx** –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ.

  

#### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ª–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å –∏ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å

- **–ò–∑–æ–ª—è—Ü–∏—è**: –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω

- **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**: –≤—ã—Å–æ–∫–æ–µ (–∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ ~2MB)

- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞**: –¥–æ—Ä–æ–≥–æ–µ

- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ—Ç–æ–∫–æ–≤

  

#### –ü—Ä–∏–º–µ—Ä (–ø—Å–µ–≤–¥–æ–∫–æ–¥):

```java

// Java/C# –ø–æ–¥—Ö–æ–¥

public void handleRequest(Request request) {

// –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

String data = database.query("SELECT * FROM users");

// –ü–æ—Ç–æ–∫ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –∫ –ë–î

response.send(processData(data));

}

```

  

#### –ü—Ä–æ–±–ª–µ–º—ã:

1. **C10K Problem**: —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ 10000+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

2. **Memory overhead**: –∫–∞–∂–¥—ã–π –ø–æ—Ç–æ–∫ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω—É—é –ø–∞–º—è—Ç—å

3. **Context switching**: –¥–æ—Ä–æ–≥–∏–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É –ø–æ—Ç–æ–∫–∞–º–∏

4. **Thread creation overhead**: —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ —Ç—Ä–µ–±—É–µ—Ç –≤—Ä–µ–º–µ–Ω–∏

  

### –ú–æ–¥–µ–ª—å Node.js: Event-driven, –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π I/O

  

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã ‚Üí –û–¥–∏–Ω –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫ (Event Loop) ‚Üê Thread Pool (I/O –æ–ø–µ—Ä–∞—Ü–∏–∏)

```

  

#### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- **–û–¥–∏–Ω –ø–æ—Ç–æ–∫**: –≤—Å–µ JavaScript –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –æ–¥–Ω–æ–º –ø–æ—Ç–æ–∫–µ

- **Event Loop**: –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ callbacks

- **–ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–π I/O**: I/O –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

- **–ù–∏–∑–∫–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏**: –Ω–µ—Ç –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤ –Ω–∞ –ø–æ—Ç–æ–∫–∏

- **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –¥–ª—è I/O-intensive –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

  

#### –ü—Ä–∏–º–µ—Ä Node.js:

```javascript

const http = require('http');

const fs = require('fs');

  

const server = http.createServer((req, res) => {

// –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–µ–µ —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

fs.readFile('large-file.txt', (err, data) => {

if (err) {

res.statusCode = 500;

res.end('Error reading file');

return;

}

// Callback –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–≥–¥–∞ —Ñ–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω

res.end(data);

});

// –≠—Ç–æ—Ç –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Å—Ä–∞–∑—É, –Ω–µ –æ–∂–∏–¥–∞—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞

console.log('Request received');

});

  

server.listen(3000);

```

  

### –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π:

  

| –ê—Å–ø–µ–∫—Ç | –û–¥–∏–Ω –ø–æ—Ç–æ–∫ –Ω–∞ –∑–∞–ø—Ä–æ—Å | Node.js –º–æ–¥–µ–ª—å |

|--------|----------------------|----------------|

| –ü–∞–º—è—Ç—å | ~2MB –Ω–∞ –ø–æ—Ç–æ–∫ | ~10MB –æ–±—â–∞—è |

| CPU | –í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ | –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ |

| –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è | –í—ã—Å–æ–∫–∞—è –¥–ª—è I/O |

| –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ü—Ä–æ—Å—Ç–∞—è | –¢—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è async |

| I/O –æ–ø–µ—Ä–∞—Ü–∏–∏ | –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ | –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ |

| –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è | CPU-intensive | I/O-intensive |

  

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Node.js –º–æ–¥–µ–ª—å:

‚úÖ **–•–æ—Ä–æ—à–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**

- Web API —Å–µ—Ä–≤–µ—Ä—ã

- –ß–∞—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- Streaming –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

- I/O-intensive –∑–∞–¥–∞—á–∏

  

‚ùå **–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**

- CPU-intensive –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

- –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

- –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

  

---

  

## –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –∏ –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

  

### –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

  

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –û–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–æ —Å–≤–æ–µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

  

#### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞

- –ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤ –ø–æ–Ω–∏–º–∞–Ω–∏–∏

- –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

  

#### –ü—Ä–∏–º–µ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

  

```javascript

const fs = require('fs');

  

console.log('–ù–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è');

  

// –ë–õ–û–ö–ò–†–£–Æ–©–ê–Ø –æ–ø–µ—Ä–∞—Ü–∏—è - —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

try {

const data = fs.readFileSync('large-file.txt', 'utf8');

console.log('–§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω:', data.length, '—Å–∏–º–≤–æ–ª–æ–≤');

} catch (error) {

console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', error.message);

}

  

console.log('–ö–æ–Ω–µ—Ü –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è');

  

// –í—ã–≤–æ–¥:

// –ù–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

// –§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω: 1000000 —Å–∏–º–≤–æ–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —á—Ç–µ–Ω–∏—è)

// –ö–æ–Ω–µ—Ü –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```

  

#### –î—Ä—É–≥–∏–µ –ø—Ä–∏–º–µ—Ä—ã –±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

```javascript

// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞

fs.writeFileSync('output.txt', 'Hello World');

  

// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã

const { execSync } = require('child_process');

const result = execSync('ls -la');

  

// –°–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ —Å–∂–∞—Ç–∏–µ

const zlib = require('zlib');

const compressed = zlib.gzipSync(Buffer.from('Hello World'));

  

// CPU-intensive –æ–ø–µ—Ä–∞—Ü–∏—è

function fibonacci(n) {

if (n < 2) return n;

return fibonacci(n - 1) + fibonacci(n - 2); // –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫

}

  

console.log(fibonacci(40)); // –ë–ª–æ–∫–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞ —Å–µ–∫—É–Ω–¥—ã

```

  

### –ù–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

  

**–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –û–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç callbacks, promises –∏–ª–∏ async/await.

  

#### –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

- –ù–µ –±–ª–æ–∫–∏—Ä—É—é—Ç –≥–ª–∞–≤–Ω—ã–π –ø–æ—Ç–æ–∫

- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

- –¢—Ä–µ–±—É—é—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏

  

#### –ü—Ä–∏–º–µ—Ä—ã –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

  

```javascript

const fs = require('fs');

  

console.log('–ù–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è');

  

// –ù–ï–ë–õ–û–ö–ò–†–£–Æ–©–ê–Ø –æ–ø–µ—Ä–∞—Ü–∏—è - —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

fs.readFile('large-file.txt', 'utf8', (error, data) => {

if (error) {

console.error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞:', error.message);

return;

}

console.log('–§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω:', data.length, '—Å–∏–º–≤–æ–ª–æ–≤');

});

  

console.log('–ö–æ–Ω–µ—Ü –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è');

  

// –í—ã–≤–æ–¥:

// –ù–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

// –ö–æ–Ω–µ—Ü –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

// –§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω: 1000000 —Å–∏–º–≤–æ–ª–æ–≤ (–≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ)

```

  

#### Promises:

```javascript

const fs = require('fs').promises;

  

console.log('–ù–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è');

  

fs.readFile('large-file.txt', 'utf8')

.then(data => {

console.log('–§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω:', data.length, '—Å–∏–º–≤–æ–ª–æ–≤');

})

.catch(error => {

console.error('–û—à–∏–±–∫–∞:', error.message);

});

  

console.log('–ö–æ–Ω–µ—Ü –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è');

```

  

#### Async/Await:

```javascript

const fs = require('fs').promises;

  

async function readFileExample() {

console.log('–ù–∞—á–∞–ª–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è');

try {

const data = await fs.readFile('large-file.txt', 'utf8');

console.log('–§–∞–π–ª –ø—Ä–æ—á–∏—Ç–∞–Ω:', data.length, '—Å–∏–º–≤–æ–ª–æ–≤');

} catch (error) {

console.error('–û—à–∏–±–∫–∞:', error.message);

}

console.log('–ö–æ–Ω–µ—Ü –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è');

}

  

readFileExample();

```

  

### –ü—Ä–∏–º–µ—Ä—ã –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞:

  

#### –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏:

```javascript

const fs = require('fs');

  

// –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞

fs.readFile('input.txt', 'utf8', callback);

  

// –ó–∞–ø–∏—Å—å —Ñ–∞–π–ª–∞

fs.writeFile('output.txt', 'data', callback);

  

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ñ–∞–π–ª–∞

fs.stat('file.txt', callback);

  

// –ß—Ç–µ–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

fs.readdir('./folder', callback);

```

  

#### –°–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

```javascript

const http = require('http');

  

// HTTP –∑–∞–ø—Ä–æ—Å

const req = http.request('http://api.example.com', (res) => {

let data = '';

res.on('data', chunk => data += chunk);

res.on('end', () => console.log(data));

});

req.end();

  

// TCP —Å–µ—Ä–≤–µ—Ä

const net = require('net');

const server = net.createServer((socket) => {

socket.on('data', (data) => {

console.log('Received:', data.toString());

});

});

```

  

#### –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:

```javascript

// MongoDB –ø—Ä–∏–º–µ—Ä

const MongoClient = require('mongodb').MongoClient;

  

MongoClient.connect('mongodb://localhost:27017', (err, client) => {

if (err) throw err;

const db = client.db('mydb');

db.collection('users').find({}).toArray((err, docs) => {

if (err) throw err;

console.log('Users:', docs);

client.close();

});

});

```

  

### –ü–∞—Ç—Ç–µ—Ä–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç–∏:

  
#### 1. Callbacks:

```javascript

function processData(callback) {

fs.readFile('data.txt', (err, data) => {

if (err) return callback(err);

const processed = data.toString().toUpperCase();

callback(null, processed);

});

}

  

processData((err, result) => {

if (err) {

console.error('Error:', err);

} else {

console.log('Result:', result);

}

});

```

  

#### 2. Promises:

```javascript

function processData() {

return new Promise((resolve, reject) => {

fs.readFile('data.txt', (err, data) => {

if (err) return reject(err);

const processed = data.toString().toUpperCase();

resolve(processed);

});

});

}

  

processData()

.then(result => console.log('Result:', result))

.catch(err => console.error('Error:', err));

```

  

#### 3. Async/Await:

```javascript

async function processData() {

try {

const data = await fs.promises.readFile('data.txt');

const processed = data.toString().toUpperCase();

return processed;

} catch (err) {

throw err;

}

}

  

async function main() {

try {

const result = await processData();

console.log('Result:', result);

} catch (err) {

console.error('Error:', err);

}

}

  

main();

```

  

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–ª–æ–∫–∏—Ä—É—é—â–∏–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏ –≤ Node.js:

  

```javascript

// –ü–õ–û–•–û–ô –ø—Ä–∏–º–µ—Ä - –±–ª–æ–∫–∏—Ä—É–µ—Ç Event Loop

const server = http.createServer((req, res) => {

// –ë–ª–æ–∫–∏—Ä—É—é—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è

const result = heavyComputation(); // 5 —Å–µ–∫—É–Ω–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

res.end(`Result: ${result}`);

});

  

// –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –±—É–¥—É—Ç –∂–¥–∞—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

  

// –•–û–†–û–®–ò–ô –ø—Ä–∏–º–µ—Ä - –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç Event Loop

const server = http.createServer((req, res) => {

// –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Worker Thread –∏–ª–∏ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —á–∞—Å—Ç–∏

setImmediate(() => {

const result = heavyComputation();

res.end(`Result: ${result}`);

});

});

```

  

---

  

## LibUV

  

**LibUV** ‚Äî —ç—Ç–æ –º–Ω–æ–≥–æ–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–∞—è C –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞ –≤ Node.js. –û–Ω–∞ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π Event Loop –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—É—é –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—é –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π, —Å–µ—Ç—å—é –∏ –¥—Ä—É–≥–∏–º–∏ —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏.
  

#### –û—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:

- **–Ø–∑—ã–∫**: –ù–∞–ø–∏—Å–∞–Ω–∞ –Ω–∞ C

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã**: Windows, Linux, macOS, Unix

- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π I/O –∏ Event Loop

- **–°–æ–∑–¥–∞–Ω–∞**: –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –¥–ª—è Node.js, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏ –≤ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö

  

#### –ò—Å—Ç–æ—Ä–∏—è —Å–æ–∑–¥–∞–Ω–∏—è:

- –°–æ–∑–¥–∞–Ω–∞ Ryan Dahl –¥–ª—è Node.js

- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –∫—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ–º —Ä–µ—à–µ–Ω–∏–∏ –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ I/O

- –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ API –ø–æ–¥ –µ–¥–∏–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º

  

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ LibUV:

  

```

Node.js JavaScript

‚Üì

V8 JavaScript Engine

‚Üì

Node.js C++ Bindings

‚Üì

LibUV

‚Üì

–°–∏—Å—Ç–µ–º–Ω—ã–µ API (epoll, kqueue, IOCP, etc.)

```

  

### LibUV –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

  

#### 1. Event Loop

LibUV —Ä–µ–∞–ª–∏–∑—É–µ—Ç Event Loop ‚Äî –≥–ª–∞–≤–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–±—ã—Ç–∏–π:

  

```c

// –ü—Å–µ–≤–¥–æ–∫–æ–¥ Event Loop –≤ LibUV

while (loop->stop_flag == 0) {

uv_update_time(loop); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏

uv__run_timers(loop); // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–æ–≤

uv__run_pending(loop); // –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö callbacks

uv__run_idle(loop); // Idle handles

uv__run_prepare(loop); // Prepare handles

timeout = uv_backend_timeout(loop);

uv__io_poll(loop, timeout); // –û—Å–Ω–æ–≤–Ω–æ–π poll –¥–ª—è I/O

uv__run_check(loop); // Check handles

uv__run_closing_handles(loop); // –ó–∞–∫—Ä—ã—Ç–∏–µ handles

}

```

  

#### 2. –¢–∏–ø—ã –æ–ø–µ—Ä–∞—Ü–∏–π, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö LibUV:

  

##### –§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:

```javascript

const fs = require('fs');

  

// LibUV –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ

fs.readFile('file.txt', (err, data) => {

// Callback –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ Event Loop

console.log('File read complete');

});

```

  

##### –°–µ—Ç–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

```javascript

const net = require('net');

  

// LibUV —É–ø—Ä–∞–≤–ª—è–µ—Ç TCP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ–º

const server = net.createServer((socket) => {

socket.on('data', (data) => {

console.log('Data received:', data.toString());

});

});

```

  

##### –¢–∞–π–º–µ—Ä—ã:

```javascript

// LibUV —É–ø—Ä–∞–≤–ª—è–µ—Ç —Ç–∞–π–º–µ—Ä–∞–º–∏

setTimeout(() => {

console.log('Timer executed');

}, 1000);

  

setInterval(() => {

console.log('Interval executed');

}, 500);

```

  

### –ö–∞–∫ —ç—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ LibUV

  

#### 1. –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ —Ä–∞–∑–ª–∏—á–∏—è:

  

**Linux**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `epoll`

```c

// Linux implementation

int epoll_fd = epoll_create1(EPOLL_CLOEXEC);

struct epoll_event events[64];

int nfds = epoll_wait(epoll_fd, events, 64, timeout);

```

  

**macOS**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `kqueue`

```c

// macOS implementation

int kq = kqueue();

struct kevent events[64];

int nev = kevent(kq, NULL, 0, events, 64, &timeout);

```

  

**Windows**: –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `IOCP (I/O Completion Ports)`

```c

// Windows implementation

HANDLE iocp = CreateIoCompletionPort(INVALID_HANDLE_VALUE, NULL, 0, 0);

DWORD bytes;

ULONG_PTR key;

OVERLAPPED* overlapped;

GetQueuedCompletionStatus(iocp, &bytes, &key, &overlapped, timeout);

```

  

#### 2. –ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è Handle:

LibUV –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é "handles" –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–∞–º–∏:

  

```c

// –ë–∞–∑–æ–≤—ã–π handle

typedef struct uv_handle_s uv_handle_t;

  

// TCP handle

typedef struct uv_tcp_s uv_tcp_t;

  

// Timer handle

typedef struct uv_timer_s uv_timer_t;

  

// FS handle

typedef struct uv_fs_s uv_fs_t;

```

  

#### 3. Request —Å–∏—Å—Ç–µ–º–∞:

–î–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π LibUV –∏—Å–ø–æ–ª—å–∑—É–µ—Ç requests:

  

```c

// FS request

typedef struct uv_fs_s {

uv_req_t req;

uv_fs_type fs_type;

uv_loop_t* loop;

uv_fs_cb cb;

ssize_t result;

void* ptr;

const char* path;

// ... other fields

} uv_fs_t;

```

  

### Thread Pool –≤ LibUV

#### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è Thread Pool:

LibUV –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—É–ª –ø–æ—Ç–æ–∫–æ–≤ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –Ω–∞ —É—Ä–æ–≤–Ω–µ –û–°:

  

```

Main Thread (Event Loop)

‚Üì

Thread Pool Workers

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê

‚îÇ Worker 1 ‚îÇ ‚Üê –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

‚îÇ Worker 2 ‚îÇ ‚Üê DNS —Ä–µ–∑–æ–ª–≤–∏–Ω–≥

‚îÇ Worker 3 ‚îÇ ‚Üê –ù–µ–∫–æ—Ç–æ—Ä—ã–µ crypto –æ–ø–µ—Ä–∞—Ü–∏–∏

‚îÇ Worker 4 ‚îÇ ‚Üê CPU-intensive –∑–∞–¥–∞—á–∏

‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚Üì

–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Üí Event Loop ‚Üí Callback

```

  

#### –û–ø–µ—Ä–∞—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –≤ Thread Pool:

  

```javascript

// 1. –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

fs.readFile('file.txt', callback); // ‚Üí Thread Pool

  

// 2. DNS –æ–ø–µ—Ä–∞—Ü–∏–∏

dns.lookup('google.com', callback); // ‚Üí Thread Pool

  

// 3. –ù–µ–∫–æ—Ç–æ—Ä—ã–µ crypto –æ–ø–µ—Ä–∞—Ü–∏–∏

crypto.pbkdf2('secret', 'salt', 100000, 64, 'sha512', callback); // ‚Üí Thread Pool

  

// 4. Zlib –æ–ø–µ—Ä–∞—Ü–∏–∏

zlib.gzip(buffer, callback); // ‚Üí Thread Pool

```

  

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ Thread Pool:

```bash

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ thread pool (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 4)

UV_THREADPOOL_SIZE=8 node app.js

```

  

```javascript

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ thread pool

console.log('Thread pool size:', process.env.UV_THREADPOOL_SIZE || 4);

```

  

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã –∏ LibUV:

  

#### –ü—Ä—è–º—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã (–Ω–µ Thread Pool):

```javascript

// TCP/UDP –æ–ø–µ—Ä–∞—Ü–∏–∏

const net = require('net');

const server = net.createServer(); // epoll/kqueue/IOCP

  

// HTTP –æ–ø–µ—Ä–∞—Ü–∏–∏

const http = require('http');

const server = http.createServer(); // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç TCP

  

// Pipe –æ–ø–µ—Ä–∞—Ü–∏–∏

const { spawn } = require('child_process');

const child = spawn('ls'); // pipe communication

```

  

#### –û–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Thread Pool:

```javascript

// –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

fs.readFile(); // ‚Üí Thread Pool ‚Üí File system API

  

// CPU –æ–ø–µ—Ä–∞—Ü–∏–∏

crypto.pbkdf2(); // ‚Üí Thread Pool ‚Üí Crypto calculations

  

// DNS

dns.lookup(); // ‚Üí Thread Pool ‚Üí DNS resolution

```

  

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å LibUV:

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **Event Loop**: –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤

2. **Batching**: –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ I/O –æ–ø–µ—Ä–∞—Ü–∏–π

3. **Caching**: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ DNS

4. **Connection pooling**: –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π

  

#### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```javascript

// –ò–∑–º–µ—Ä–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏ Event Loop

let start = process.hrtime();

  

setImmediate(() => {

const delta = process.hrtime(start);

const nanosec = delta[0] * 1e9 + delta[1];

const millisec = nanosec / 1e6;

console.log(`Event Loop delay: ${millisec}ms`);

});

```

  

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Node.js:

  

```cpp

// –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ LibUV —Å Node.js (—É–ø—Ä–æ—â–µ–Ω–æ)

namespace node {

  

void StartEventLoop() {

uv_loop_t* loop = uv_default_loop();

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è V8

v8::Isolate* isolate = v8::Isolate::GetCurrent();

// –ó–∞–ø—É—Å–∫ Event Loop

while (uv_run(loop, UV_RUN_DEFAULT)) {

// –û–±—Ä–∞–±–æ—Ç–∫–∞ V8 –∑–∞–¥–∞—á

isolate->RunMicrotasks();

}

}

  

}

```

  

---

  

## Event Loop –∏ Thread Pool

  

Event Loop –∏ Thread Pool ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Node.js, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π.

  

### Event Loop (–¶–∏–∫–ª —Å–æ–±—ã—Ç–∏–π)

  

#### –ß—Ç–æ —Ç–∞–∫–æ–µ Event Loop?

Event Loop ‚Äî —ç—Ç–æ –º–µ—Ö–∞–Ω–∏–∑–º, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç Node.js –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–µ I/O –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Ç–æ, —á—Ç–æ JavaScript —è–≤–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–ø–æ—Ç–æ—á–Ω—ã–º.

  

#### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Event Loop:

  

```

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê

‚îå‚îÄ>‚îÇ timers ‚îÇ ‚Üê setTimeout, setInterval

‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê

‚îÇ ‚îÇ pending callbacks ‚îÇ ‚Üê I/O callbacks (TCP, UDP)

‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê

‚îÇ ‚îÇ idle, prepare ‚îÇ ‚Üê –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê

‚îÇ ‚îÇ poll ‚îÇ ‚Üê –ù–æ–≤—ã–µ I/O —Å–æ–±—ã—Ç–∏—è

‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê

‚îÇ ‚îÇ check ‚îÇ ‚Üê setImmediate callbacks

‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê

‚îî‚îÄ‚îÄ‚î§ close callbacks ‚îÇ ‚Üê –ó–∞–∫—Ä—ã—Ç–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

```

  

#### –§–∞–∑—ã Event Loop:

  

##### 1. Timers Phase

–í—ã–ø–æ–ª–Ω—è–µ—Ç callbacks –æ—Ç `setTimeout()` –∏ `setInterval()`

  

```javascript

console.log('Start');

  

setTimeout(() => {

console.log('Timer 1');

}, 0);

  

setTimeout(() => {

console.log('Timer 2');

}, 0);

  

console.log('End');

  

// –í—ã–≤–æ–¥:

// Start

// End

// Timer 1

// Timer 2

```

  

##### 2. Pending Callbacks Phase

–í—ã–ø–æ–ª–Ω—è–µ—Ç I/O callbacks, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –æ—Ç–ª–æ–∂–µ–Ω—ã

  

```javascript

const fs = require('fs');

  

fs.readFile('file.txt', (err, data) => {

console.log('File read callback'); // –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ pending callbacks

});

```

  

##### 3. Idle, Prepare Phase

–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ Node.js

  

##### 4. Poll Phase

–°–∞–º–∞—è –≤–∞–∂–Ω–∞—è —Ñ–∞–∑–∞ ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö I/O —Å–æ–±—ã—Ç–∏–π –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∏—Ö callbacks

  

```javascript

const net = require('net');

  

const server = net.createServer((socket) => {

socket.on('data', (data) => {

console.log('Data received'); // Poll phase

});

});

```

  

##### 5. Check Phase

–í—ã–ø–æ–ª–Ω—è–µ—Ç callbacks –æ—Ç `setImmediate()`

  

```javascript

setImmediate(() => {

console.log('Immediate 1');

});

  

setImmediate(() => {

console.log('Immediate 2');

});

  

// –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ check phase

```

  

##### 6. Close Callbacks Phase

–í—ã–ø–æ–ª–Ω—è–µ—Ç callbacks –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ä–µ—Å—É—Ä—Å–æ–≤

  

```javascript

const server = require('http').createServer();

  

server.on('close', () => {

console.log('Server closed'); // Close callbacks phase

});

  

server.close();

```

  

#### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

  

```javascript

console.log('=== Start ===');

  

// Microtasks (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

Promise.resolve().then(() => console.log('Promise 1'));

process.nextTick(() => console.log('NextTick 1'));

  

// Timers

setTimeout(() => console.log('Timer'), 0);

  

// Check phase

setImmediate(() => console.log('Immediate'));

  

// Microtasks

Promise.resolve().then(() => console.log('Promise 2'));

process.nextTick(() => console.log('NextTick 2'));

  

console.log('=== End ===');

  

// –í—ã–≤–æ–¥:

// === Start ===

// === End ===

// NextTick 1

// NextTick 2

// Promise 1

// Promise 2

// Timer

// Immediate

```

  

#### Microtasks vs Macrotasks:

  

**Microtasks** (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç):

- `process.nextTick()`

- `Promise.resolve().then()`

- `queueMicrotask()`

  

**Macrotasks**:

- `setTimeout()`, `setInterval()`

- `setImmediate()`

- I/O callbacks

  

### Thread Pool

  

#### –ß—Ç–æ —Ç–∞–∫–æ–µ Thread Pool?

Thread Pool ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä —Ä–∞–±–æ—á–∏—Ö –ø–æ—Ç–æ–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏, –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –û–°.

  

#### –†–∞–∑–º–µ—Ä Thread Pool:

```javascript

// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: 4 –ø–æ—Ç–æ–∫–∞

// –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è

process.env.UV_THREADPOOL_SIZE = '8';

  

// –ò–ª–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

// UV_THREADPOOL_SIZE=8 node app.js

```

  

#### –û–ø–µ—Ä–∞—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω—è–µ–º—ã–µ –≤ Thread Pool:

  

##### 1. –§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

```javascript

const fs = require('fs');

  

// –≠—Ç–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ Thread Pool

fs.readFile('file1.txt', callback1); // Worker Thread 1

fs.readFile('file2.txt', callback2); // Worker Thread 2

fs.readFile('file3.txt', callback3); // Worker Thread 3

fs.readFile('file4.txt', callback4); // Worker Thread 4

fs.readFile('file5.txt', callback5); // –û–∂–∏–¥–∞–µ—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞

```

  

##### 2. DNS —Ä–µ–∑–æ–ª–≤–∏–Ω–≥:

```javascript

const dns = require('dns');

  

dns.lookup('google.com', (err, address) => {

console.log('Google IP:', address); // –í—ã–ø–æ–ª–Ω–µ–Ω–æ –≤ Thread Pool

});

```

  

##### 3. –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

```javascript

const crypto = require('crypto');

  

// CPU-intensive –æ–ø–µ—Ä–∞—Ü–∏—è –≤ Thread Pool

crypto.pbkdf2('password', 'salt', 100000, 64, 'sha512', (err, derivedKey) => {

console.log('Key derived:', derivedKey.toString('hex'));

});

```

  

##### 4. –ö–æ–º–ø—Ä–µ—Å—Å–∏—è:

```javascript

const zlib = require('zlib');

  

zlib.gzip(Buffer.from('Hello World'), (err, compressed) => {

console.log('Compressed:', compressed); // Thread Pool

});

```

  

#### –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è Thread Pool:

  

```javascript

const fs = require('fs');

const crypto = require('crypto');

  

console.log('Starting operations...');

const start = Date.now();

  

// –ó–∞–ø—É—Å–∫–∞–µ–º 6 –æ–ø–µ—Ä–∞—Ü–∏–π (Thread Pool size = 4)

for (let i = 0; i < 6; i++) {

crypto.pbkdf2('password', 'salt', 100000, 64, 'sha512', (err, key) => {

console.log(`Operation ${i + 1} completed in ${Date.now() - start}ms`);

});

}

  

// –í–æ–∑–º–æ–∂–Ω—ã–π –≤—ã–≤–æ–¥:

// Starting operations...

// Operation 1 completed in 150ms

// Operation 2 completed in 155ms

// Operation 3 completed in 160ms

// Operation 4 completed in 165ms // –ü–µ—Ä–≤—ã–µ 4 ‚Äî –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

// Operation 5 completed in 310ms // –°–ª–µ–¥—É—é—â–∏–µ 2 ‚Äî –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–≤—ã—Ö

// Operation 6 completed in 315ms

```

  

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Event Loop:

  

#### 1. Event Loop Lag:

```javascript

function measureEventLoopLag() {

const start = process.hrtime.bigint();

setImmediate(() => {

const lag = process.hrtime.bigint() - start;

console.log(`Event Loop lag: ${Number(lag) / 1000000}ms`);

});

}

  

// –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É

setInterval(measureEventLoopLag, 1000);

```

  

#### 2. Active Handles –∏ Requests:

```javascript

console.log('Active handles:', process._getActiveHandles().length);

console.log('Active requests:', process._getActiveRequests().length);

  

// –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

const activeHandles = process._getActiveHandles();

activeHandles.forEach((handle, index) => {

console.log(`Handle ${index}:`, handle.constructor.name);

});

```

  

#### 3. Memory Usage:

```javascript

function logMemoryUsage() {

const usage = process.memoryUsage();

console.log({

rss: `${(usage.rss / 1024 / 1024).toFixed(2)} MB`, // Resident Set Size

heapTotal: `${(usage.heapTotal / 1024 / 1024).toFixed(2)} MB`,

heapUsed: `${(usage.heapUsed / 1024 / 1024).toFixed(2)} MB`,

external: `${(usage.external / 1024 / 1024).toFixed(2)} MB`

});

}

  

setInterval(logMemoryUsage, 5000);

```

  

### –ü—Ä–æ–±–ª–µ–º—ã —Å –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π Event Loop:

  

#### –ü—Ä–∏–º–µ—Ä –±–ª–æ–∫–∏—Ä—É—é—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏:

```javascript

const http = require('http');

  

const server = http.createServer((req, res) => {

// –ü–õ–û–•–û: –±–ª–æ–∫–∏—Ä—É–µ—Ç Event Loop

const start = Date.now();

while (Date.now() - start < 5000) {

// –ò–º–∏—Ç–∞—Ü–∏—è CPU-intensive –æ–ø–µ—Ä–∞—Ü–∏–∏

}

res.end('Done after 5 seconds');

});

  

server.listen(3000);

```

  

#### –†–µ—à–µ–Ω–∏–µ —á–µ—Ä–µ–∑ —Ä–∞–∑–±–∏–µ–Ω–∏–µ –∑–∞–¥–∞—á:

```javascript

const server = http.createServer((req, res) => {

// –•–û–†–û–®–û: –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç Event Loop

heavyOperationAsync((result) => {

res.end(`Result: ${result}`);

});

});

  

function heavyOperationAsync(callback) {

let i = 0;

const limit = 1000000;

function processChunk() {

const chunkSize = 10000;

const end = Math.min(i + chunkSize, limit);

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–∞—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö

while (i < end) {

// –ö–∞–∫–∏–µ-—Ç–æ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

i++;

}

if (i < limit) {

// –ü–µ—Ä–µ–¥–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Event Loop

setImmediate(processChunk);

} else {

callback('Operation completed');

}

}

processChunk();

}

```

  

#### Worker Threads –¥–ª—è CPU-intensive –∑–∞–¥–∞—á:

```javascript

const { Worker, isMainThread, parentPort, workerData } = require('worker_threads');

  

if (isMainThread) {

// –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫

const http = require('http');

const server = http.createServer((req, res) => {

const worker = new Worker(__filename, {

workerData: { operation: 'heavy_calculation' }

});

worker.on('message', (result) => {

res.end(`Result: ${result}`);

});

worker.on('error', (error) => {

res.statusCode = 500;

res.end(`Error: ${error.message}`);

});

});

server.listen(3000);

} else {

// Worker –ø–æ—Ç–æ–∫

const { operation } = workerData;

if (operation === 'heavy_calculation') {

let result = 0;

for (let i = 0; i < 10000000; i++) {

result += Math.sqrt(i);

}

parentPort.postMessage(result);

}

}

```

  

---

  

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∞—Å–ø–µ–∫—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

  

### Memory Management (–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç—å—é)

  

#### Heap –∏ Stack –≤ Node.js:

  

```javascript

// Stack memory - –ø—Ä–∏–º–∏—Ç–∏–≤—ã –∏ —Å—Å—ã–ª–∫–∏

let num = 42; // Stack

let str = "Hello"; // Stack (—Å—Å—ã–ª–∫–∞), Heap (–∑–Ω–∞—á–µ–Ω–∏–µ)

let bool = true; // Stack

  

// Heap memory - –æ–±—ä–µ–∫—Ç—ã

let obj = { a: 1 }; // Stack (—Å—Å—ã–ª–∫–∞), Heap (–æ–±—ä–µ–∫—Ç)

let arr = [1, 2, 3]; // Stack (—Å—Å—ã–ª–∫–∞), Heap (–º–∞—Å—Å–∏–≤)

```

  

#### Garbage Collection:

```javascript

// –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã GC

function createMemoryLeak() {

const largeArray = new Array(1000000).fill('data');

// –ë–µ–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ - —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏

return function() {

console.log(largeArray.length);

};

}

  

// –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–º—è—Ç–∏

setInterval(() => {

if (global.gc) {

global.gc(); // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π —Å–±–æ—Ä –º—É—Å–æ—Ä–∞

}

const usage = process.memoryUsage();

console.log(`Memory: ${Math.round(usage.heapUsed / 1024 / 1024)}MB`);

}, 1000);

```

  

#### Memory Leaks Prevention:

```javascript

// –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏

const fs = require('fs');

const EventEmitter = require('events');

  

class DataProcessor extends EventEmitter {

constructor() {

super();

this.data = new Map();

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞

this.cleanupInterval = setInterval(() => {

this.cleanup();

}, 60000);

}

cleanup() {

// –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö

const now = Date.now();

for (const [key, value] of this.data) {

if (now - value.timestamp > 300000) { // 5 minutes

this.data.delete(key);

}

}

}

destroy() {

clearInterval(this.cleanupInterval);

this.data.clear();

this.removeAllListeners();

}

}

```

  

### Streams (–ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö)

  

#### –¢–∏–ø—ã –ø–æ—Ç–æ–∫–æ–≤:

```javascript

const fs = require('fs');

const { Transform } = require('stream');

  

// Readable Stream

const readStream = fs.createReadStream('large-file.txt');

readStream.on('data', (chunk) => {

console.log(`Received ${chunk.length} bytes`);

});

  

// Writable Stream

const writeStream = fs.createWriteStream('output.txt');

writeStream.write('Hello ');

writeStream.write('World!');

writeStream.end();

  

// Transform Stream

const upperCaseTransform = new Transform({

transform(chunk, encoding, callback) {

this.push(chunk.toString().toUpperCase());

callback();

}

});

  

// Pipeline

const pipeline = require('util').promisify(require('stream').pipeline);

  

async function processFile() {

try {

await pipeline(

fs.createReadStream('input.txt'),

upperCaseTransform,

fs.createWriteStream('output.txt')

);

console.log('Pipeline completed');

} catch (error) {

console.error('Pipeline error:', error);

}

}

```

  

#### Backpressure handling:

```javascript

const { Readable, Writable } = require('stream');

  

class SlowWritable extends Writable {

_write(chunk, encoding, callback) {

// –ò–º–∏—Ç–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω–æ–π –∑–∞–ø–∏—Å–∏

setTimeout(() => {

console.log(`Wrote: ${chunk.toString()}`);

callback();

}, 100);

}

}

  

class FastReadable extends Readable {

constructor(options) {

super(options);

this.i = 0;

}

_read() {

if (this.i < 100) {

this.push(`data-${this.i++}\n`);

} else {

this.push(null); // End stream

}

}

}

  

const readable = new FastReadable();

const writable = new SlowWritable();

  

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ backpressure

readable.pipe(writable);

```

  

### Cluster Module (–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è)

  

#### Master-Worker –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:

```javascript

const cluster = require('cluster');

const http = require('http');

const numCPUs = require('os').cpus().length;

  

if (cluster.isMaster) {

console.log(`Master ${process.pid} is running`);

// –°–æ–∑–¥–∞–Ω–∏–µ worker –ø—Ä–æ—Ü–µ—Å—Å–æ–≤

for (let i = 0; i < numCPUs; i++) {

const worker = cluster.fork();

// –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è —Å worker

worker.send({ cmd: 'config', data: { port: 3000 + i } });

}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–±—ã—Ç–∏–π –æ—Ç workers

cluster.on('message', (worker, message) => {

console.log(`Message from worker ${worker.process.pid}:`, message);

});

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —É–ø–∞–≤—à–∏—Ö workers

cluster.on('exit', (worker, code, signal) => {

console.log(`Worker ${worker.process.pid} died`);

console.log('Starting a new worker');

cluster.fork();

});

// Graceful shutdown

process.on('SIGTERM', () => {

console.log('Master received SIGTERM');

for (const id in cluster.workers) {

cluster.workers[id].kill();

}

});

} else {

// Worker –ø—Ä–æ—Ü–µ—Å—Å

const server = http.createServer((req, res) => {

res.writeHead(200);

res.end(`Hello from worker ${process.pid}\n`);

});

server.listen(3000, () => {

console.log(`Worker ${process.pid} started`);

});

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç master

process.on('message', (message) => {

if (message.cmd === 'config') {

console.log('Worker received config:', message.data);

}

});

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π master

process.send({ worker: process.pid, status: 'ready' });

}

```

  

### Error Handling (–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫)

  

#### –¢–∏–ø—ã –æ—à–∏–±–æ–∫ –≤ Node.js:

```javascript

// 1. Synchronous errors

try {

JSON.parse('invalid json');

} catch (error) {

console.error('Sync error:', error.message);

}

  

// 2. Callback errors

fs.readFile('nonexistent.txt', (error, data) => {

if (error) {

console.error('Callback error:', error.message);

return;

}

console.log(data);

});

  

// 3. Promise rejections

Promise.reject(new Error('Promise error'))

.catch(error => {

console.error('Promise error:', error.message);

});

  

// 4. Event emitter errors

const EventEmitter = require('events');

const emitter = new EventEmitter();

  

emitter.on('error', (error) => {

console.error('EventEmitter error:', error.message);

});

  

emitter.emit('error', new Error('Something went wrong'));

```

  

#### Global error handling:

```javascript

// Unhandled promise rejections

process.on('unhandledRejection', (reason, promise) => {

console.error('Unhandled Rejection at:', promise, 'reason:', reason);

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ graceful shutdown

process.exit(1);

});

  

// Uncaught exceptions

process.on('uncaughtException', (error) => {

console.error('Uncaught Exception:', error);

// –ê–≤–∞—Ä–∏–π–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

process.exit(1);

});

  

// Warning events

process.on('warning', (warning) => {

console.warn(warning.name); // Print the warning name

console.warn(warning.message); // Print the warning message

console.warn(warning.stack); // Print the stack trace

});

```

  

### Security (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)

  

#### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```javascript

const crypto = require('crypto');

const bcrypt = require('bcrypt');

  

// 1. –•—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π

async function hashPassword(password) {

const saltRounds = 12;

return await bcrypt.hash(password, saltRounds);

}

  

// 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤

function generateSecureToken() {

return crypto.randomBytes(32).toString('hex');

}

  

// 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞

function validateInput(input) {

if (typeof input !== 'string') {

throw new Error('Invalid input type');

}

if (input.length > 1000) {

throw new Error('Input too long');

}

// –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è

return input.replace(/[<>]/g, '');

}

  

// 4. Rate limiting

const rateLimit = new Map();

  

function checkRateLimit(clientId, limit = 100, window = 60000) {

const now = Date.now();

const clientData = rateLimit.get(clientId) || { count: 0, resetTime: now + window };

if (now > clientData.resetTime) {

clientData.count = 0;

clientData.resetTime = now + window;

}

if (clientData.count >= limit) {

throw new Error('Rate limit exceeded');

}

clientData.count++;

rateLimit.set(clientId, clientData);

}

```

  

### Performance Optimization (–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)

  

#### –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:

```javascript

// 1. CPU –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

console.time('operation');

// –ö–∞–∫–∞—è-—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏—è

console.timeEnd('operation');

  

// 2. Memory profiling

function trackMemory(label) {

const usage = process.memoryUsage();

console.log(`${label}:`, {

rss: `${Math.round(usage.rss / 1024 / 1024)}MB`,

heapTotal: `${Math.round(usage.heapTotal / 1024 / 1024)}MB`,

heapUsed: `${Math.round(usage.heapUsed / 1024 / 1024)}MB`,

external: `${Math.round(usage.external / 1024 / 1024)}MB`

});

}

  

// 3. Event Loop monitoring

let start = process.hrtime();

setImmediate(() => {

const delta = process.hrtime(start);

const nanosec = delta[0] * 1e9 + delta[1];

const millisec = nanosec / 1e6;

console.log(`Event Loop delay: ${millisec.toFixed(2)}ms`);

start = process.hrtime();

});

```

  

#### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```javascript

// 1. Connection pooling

const http = require('http');

const agent = new http.Agent({

keepAlive: true,

maxSockets: 10,

maxFreeSockets: 5,

timeout: 60000

});

  

// 2. Caching

const cache = new Map();

  

function cachedFunction(key) {

if (cache.has(key)) {

return Promise.resolve(cache.get(key));

}

return expensiveOperation(key).then(result => {

cache.set(key, result);

return result;

});

}

  

// 3. Lazy loading

class LazyLoader {

constructor() {

this._modules = new Map();

}

getModule(name) {

if (!this._modules.has(name)) {

this._modules.set(name, require(name));

}

return this._modules.get(name);

}

}

  

// 4. Object pooling

class ObjectPool {

constructor(createFn, resetFn) {

this.createFn = createFn;

this.resetFn = resetFn;

this.pool = [];

}

acquire() {

return this.pool.pop() || this.createFn();

}

release(obj) {

this.resetFn(obj);

this.pool.push(obj);

}

}

```

  

---

  
